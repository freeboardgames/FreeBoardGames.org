import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Documentation/Contributing" />

Contributions that help to improve the project or create new games are always welcome!

In order to make the review experience smooth for you and the reviewer, read carefully about common pitfalls below.

# Avoid large Pull Requests, even for new games.

Smaller PRs are easier to review, will get your code to production quicker, and you will get feedback earlier. It also allows you to see your code in production, send the game to playtesters, and get help from the community faster.

You can send Pull Requests even with the game still in development and not functional. In fact, sending only the skeleton with your game name after completing the initial tutorial is already a good PR, it will let people know you are working on this game. 

There is a `GameStatus.IN_DEVELOPMENT` flag on the game definition that will hide the game from normal users, but will still show it for developers and allow you to use direct links for playtesters.

If you are in the flow and do not want to stop your work for creating small PRs, you can use [git rebasing](https://stackoverflow.com/questions/6217156/break-a-previous-commit-into-multiple-commits) and multiple branches to break it down in smaller chunks later.

# Be careful with intellectual property.

Even though we are not for profit, and our intentions are good - popularize board games and give more play opportunities beyond the physical experience -, we need to be careful in not infringing the intellectual property of others.

Hence, we cannot use games art, name, or rules copy without written consent from the copyright owners. Also, we cannot develop games if they have a patent on their rules (rare, but possible).

Therefore, **all the code, art, rules copy, and game name must be your original work or compatible with AGPL**, and by contributing you are assigning it the AGPL license.

You can read more about how these laws apply to board games [here](https://www.americanbar.org/groups/intellectual_property_law/publications/landslide/2014-15/march-april/not-playing-around-board-games-intellectual-property-law/). And about AGPL license [here](https://tldrlegal.com/license/gnu-affero-general-public-license-v3-(agpl-3.0)).

# Writing automated tests is important, and some tests are more important than others.

Testing is an important tool for us to maintain the project alive and healthy on the long run. It fits these main purposes:

- **Documents functionalities**: Each test case makes it clear what was your intention when you originally wrote the code. This will help others ramp up with your code.
- **Reduces software rotting**: Without testing, knowing if upgrading some dependency broke any functionality is almost impossible.
- **Makes refactoring easier**: Without testing, it is hard to know if some refactoring broke some feature. Testing will give confidence that the refactoring is good.
- **Reduces bugs**: If the code is well tested, it is less likely to be inadvertently broken by new changes. And it will allow you to check for corner cases more easily.

With that said, some tests are more important than others. For instance, testing game rules is extremely important because of the many corner cases it can have.

Luckily, testing the game rules is the easiest type of test to write, by leveraging [boardgame.io testing capabilities](https://boardgame.io/documentation/#/testing?id=testing-strategies).

Therefore, **we will require game rules to be well tested** for the game to be published. Testing UI can be more tricky, but it is a good practice to make sure at least some user actions work.

P.S.: Developing games in this order have worked well in the past:
1. Design the data structures - how boardgame.io's *G*, *initial state* and *moves* are going to be typed to represent all possible game states.
2. Write unit tests for the rules - i.e., given each move, how the G should look like?
3. Implement the rules until all unit tests passes.
4. Implement the User Interface / React components, and some unit tests for them.

You can do all of these 4 steps for the whole game or only for subparts until complete.

# Make sure your game works well on Mobile devices.

Nowadays, most people use their mobile phones more than their laptops or desktops, specially for leisure. 
We can expect this trend to continue over time, as young generations are growing up in this mobile-first world.

Most other board game projects and websites out there do not work well on mobile. FBG being mobile-first is a choice we have made since the beginning of the project.

However, mobile devices have smaller screens, which will require some thinking and designing beforehand on how to fit everything needed for a board game on it.
Therefore, take this into account when developing your game, as **we will only publish games that work on mobile**.

Reach out to us on our discord if you need help with the UX or with CSS and other tricks to make sure the game works well on any device.